{"version":3,"sources":["components/Find/Find.module.css","components/Common/Pagination/Pagination.module.css","components/Find/User.jsx","components/Common/Pagination/Pagination.jsx","components/Find/Find.jsx","redux/find-reseloctors.js","components/Find/FindContainer.jsx"],"names":["module","exports","User","user","followingInProgress","setFollow","setUnfollow","className","styles","userItem","to","id","src","photos","small","userAva","avatar","alt","name","status","followed","disabled","includes","followButton","onClick","Pagination","totalCount","pageSize","pageNumber","getNextUsers","portionSize","arrPageNumber","countPage","Math","ceil","i","push","countPortion","useState","numberPortion","setNumberPortion","leftPortionNumber","rightPortionNumber","leftButtonDisabled","rightButtonDisabled","forwardBackButton","filter","p","map","numberPageBlock","selectedPage","Find","props","users","u","getUsers","state","findPage","usersData","getPageNumber","getPageSize","getTotalCount","getIsFetching","isFetching","getFollowingInProgress","FindAPIContainer","requestUsers","render","Preloader","this","React","Component","FindContainer","connect"],"mappings":"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","file":"static/js/3.e1cc16e6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Find_avatar__2FZwG\",\"userItem\":\"Find_userItem__9ri8m\",\"followButton\":\"Find_followButton__gusm8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"forwardBackButton\":\"Pagination_forwardBackButton__1nszZ\",\"selectedPage\":\"Pagination_selectedPage__3vdiv\",\"numberPageBlock\":\"Pagination_numberPageBlock__1SBP4\"};","import React from \"react\";\r\nimport userAva from \"../../assets/images/user.png\";\r\nimport styles from \"./Find.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nlet User = ({ user, followingInProgress, setFollow, setUnfollow }) => {\r\n  return (\r\n    <div key={user.id} className={styles.userItem}>\r\n      <NavLink to={`/profile/${user.id}`}>\r\n        <img\r\n          src={user.photos.small != null ? user.photos.small : userAva}\r\n          className={styles.avatar}\r\n          alt=\"\"\r\n        />\r\n      </NavLink>\r\n      <div>\r\n        <div>\r\n          <span><b>Ник:</b> {user.name}</span>\r\n        </div>\r\n        <div>\r\n          <span><b>Статус:</b> {user.status || \"Всем привет!!!\"}</span>\r\n        </div>\r\n        {user.followed ? (\r\n        <button\r\n          disabled={followingInProgress.includes(user.id) ? true : false}\r\n          className={styles.followButton}\r\n          onClick={() => {\r\n            setUnfollow(user.id);\r\n          }}\r\n        >\r\n          Удалить из друзей\r\n        </button>\r\n      ) : (\r\n        <button\r\n          disabled={followingInProgress.includes(user.id) ? true : false}\r\n          className={styles.followButton}\r\n          onClick={() => {\r\n            setFollow(user.id);\r\n          }}\r\n        >\r\n          Добавить в друзья\r\n        </button>\r\n      )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import React, { useState } from \"react\";\r\nimport styles from \"./Pagination.module.css\";\r\n\r\nlet Pagination = ({\r\n  totalCount,\r\n  pageSize,\r\n  pageNumber,\r\n  getNextUsers,\r\n  portionSize,\r\n}) => {\r\n  let arrPageNumber = [];\r\n  const countPage = Math.ceil(totalCount / pageSize);\r\n  for (let i = 1; i <= countPage; i++) {\r\n    arrPageNumber.push(i);\r\n  }\r\n  const countPortion = Math.ceil(countPage / portionSize);\r\n  const [numberPortion, setNumberPortion] = useState(1);\r\n  let leftPortionNumber = numberPortion * portionSize - portionSize + 1;\r\n  let rightPortionNumber = 0;\r\n  if (numberPortion === countPortion) {\r\n    rightPortionNumber = countPage;\r\n  } else {\r\n    rightPortionNumber = leftPortionNumber + portionSize - 1;\r\n  }\r\n  const leftButtonDisabled = numberPortion > 1;\r\n  const rightButtonDisabled = numberPortion < countPortion;\r\n  return (\r\n    <div>\r\n      <button\r\n        disabled={!leftButtonDisabled}\r\n        className={styles.forwardBackButton}\r\n        onClick={() => {\r\n          setNumberPortion(numberPortion - 1);\r\n        }}\r\n      >\r\n        <span>{\"<-\"}</span>\r\n      </button>\r\n      {arrPageNumber\r\n        .filter((p) => {\r\n          if (p >= leftPortionNumber && p < rightPortionNumber + 1) {\r\n            return true;\r\n          } else {\r\n            return false;\r\n          }\r\n        })\r\n        .map((p) => (\r\n          <div\r\n            key={p}\r\n            className={styles.numberPageBlock}\r\n            onClick={() => {\r\n              getNextUsers(p);\r\n            }}\r\n          >\r\n            <span className={p === pageNumber ? styles.selectedPage : \"\"}>\r\n              {\" \" + p + \" \"}\r\n            </span>\r\n          </div>\r\n        ))}\r\n      <button\r\n        disabled={!rightButtonDisabled}\r\n        className={styles.forwardBackButton}\r\n        onClick={() => {\r\n          setNumberPortion(numberPortion + 1);\r\n        }}\r\n      >\r\n        <span>{\"->\"}</span>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import React from \"react\";\r\nimport User from \"./User\";\r\nimport Pagination from \"../Common/Pagination/Pagination\"\r\n\r\n\r\nlet Find = ({ totalCount, pageSize, pageNumber, getNextUsers, portionSize, ...props }) => {\r\n  return (\r\n    <div>\r\n      <Pagination\r\n        totalCount={totalCount}\r\n        pageSize={pageSize}\r\n        pageNumber={pageNumber}\r\n        getNextUsers={getNextUsers}\r\n        portionSize={portionSize}\r\n      />\r\n      {props.users.map((u) => (\r\n        <User\r\n          key={u.id}\r\n          user={u}\r\n          followingInProgress={props.followingInProgress}\r\n          setFollow={props.setFollow}\r\n          setUnfollow={props.setUnfollow}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Find;\r\n","export const getUsers = (state) => {\r\n    return state.findPage.usersData\r\n}\r\nexport const getPageNumber = (state) => {\r\n    return state.findPage.pageNumber\r\n}\r\nexport const getPageSize = (state) => {\r\n    return state.findPage.pageSize\r\n}\r\nexport const getTotalCount = (state) => {\r\n    return state.findPage.totalCount\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.findPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.findPage.followingInProgress\r\n}","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Find from \"./Find\";\r\nimport {requestUsers,setUnfollow,setFollow} from \"./../../redux/find-reducer\";\r\nimport Preloader from \"./../Common/Preloader/Preloader\";\r\nimport { getUsers, getPageNumber, getPageSize, getTotalCount, getIsFetching, getFollowingInProgress } from \"../../redux/find-reseloctors\";\r\n\r\nclass FindAPIContainer extends React.Component {\r\n  componentDidMount() {\r\n    const {pageSize, pageNumber} = this.props\r\n    this.props.requestUsers(pageSize, pageNumber)\r\n  }\r\n\r\n  getNextUsers = (p) => {\r\n    const {pageSize} = this.props\r\n    this.props.requestUsers(pageSize, p)\r\n  };\r\n\r\n  render = () => {\r\n    return (\r\n      <>\r\n        {this.props.isFetching ? <Preloader /> : null}\r\n        <Find\r\n          totalCount={this.props.totalCount}\r\n          pageSize={this.props.pageSize}\r\n          pageNumber={this.props.pageNumber}\r\n          users={this.props.users}\r\n          getNextUsers={this.getNextUsers}\r\n          followingInProgress={this.props.followingInProgress}\r\n          setUnfollow={this.props.setUnfollow}\r\n          setFollow={this.props.setFollow}\r\n          portionSize={this.props.portionSize}\r\n        />\r\n      </>\r\n    );\r\n  };\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageNumber: getPageNumber(state),\r\n    pageSize: getPageSize(state),\r\n    totalCount: getTotalCount(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n    portionSize: state.findPage.portionSize,\r\n  };\r\n};\r\n\r\nconst FindContainer = connect(mapStateToProps, {\r\n  requestUsers,\r\n  setUnfollow,\r\n  setFollow\r\n})(FindAPIContainer);\r\nexport default FindContainer;\r\n"],"sourceRoot":""}