(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{100:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(28),a=n(3),o="message/ADD_MESSAGE",c={dialogsData:[{id:"1",name:"Arseniy"},{id:"2",name:"Sveta"},{id:"3",name:"Bla"},{id:"4",name:"Lala"},{id:"5",name:"Ogo"}],messagesData:[{id:"1",text:"Hello"},{id:"2",text:"How are you?"},{id:"3",text:"yo"},{id:"4",text:"yo"},{id:"5",text:"yo"}]},i=function(t){return{type:o,text:t}};e.b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case o:return Object(a.a)(Object(a.a)({},t),{},{messagesData:[].concat(Object(r.a)(t.messagesData),[{id:"6",text:e.text}])});default:return t}}},13:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return c})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return s}));var r=n(134),a=n.n(r).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0",withCredentials:!0,headers:{"API-KEY":"a096fe26-0545-4f07-8c19-2ba2fe66063d"}}),o={setAuth:function(){return a.get("/auth/me").then((function(t){return t.data}))},login:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return a.post("/auth/login",{email:t,password:e,rememberMe:n,captcha:r})},logout:function(){return a.delete("/auth/login")}},c={getUsers:function(t,e){return a.get("/users?count=".concat(t,"&page=").concat(e)).then((function(t){return t.data}))},setFollow:function(t){return a.post("/follow/".concat(t)).then((function(t){return t.data.resultCode}))},setUnfollow:function(t){return a.delete("/follow/".concat(t)).then((function(t){return t.data.resultCode}))},getProfile:function(t){return console.log("\u0421\u0442\u0430\u0440\u044b\u0439 \u043c\u0435\u0442\u043e\u0434"),i.getProfile(t)}},i={getProfile:function(t){return a.get("/profile/"+t)},getStatus:function(t){return a.get("/profile/status/"+t)},updateStatus:function(t){return a.put("/profile/status",{status:t})},setPhoto:function(t){var e=new FormData;return e.append("image",t),a.put("/profile/photo",e,{headers:{"Content-Type":"multipart/form-data"}})},saveProfileData:function(t){return a.put("/profile",t)}},s={getCaptchaUrl:function(){return a.get("/security/get-captcha-url")}}},132:function(t,e,n){"use strict";n.d(e,"b",(function(){return P})),n.d(e,"d",(function(){return w})),n.d(e,"c",(function(){return S}));var r=n(10),a=n.n(r),o=n(16),c=n(28),i=n(3),s=n(13),u=function(t,e,n,r){return t.map((function(t){return t[n]===e?Object(i.a)(Object(i.a)({},t),r):t}))},l="find/SET_FOLLOW",d="find/SET_UNFOLLOW",p="find/SET_USERS",j="find/SET_TOTAL_COUNT",f="find/SET_PAGE_NUMBER",b="find/SET_IS_FETCHING",h="find/SET_FOLLOWING",O={usersData:[],pageSize:5,pageNumber:1,totalCount:0,portionSize:10,isFetching:!1,followingInProgress:[]},x=function(t){return{type:l,id:t}},m=function(t){return{type:d,id:t}},v=function(t){return{type:f,pageNumber:t}},g=function(t){return{type:b,isFetching:t}},_=function(t,e){return{type:h,inProgress:t,userId:e}},P=function(t,e){return function(){var n=Object(o.a)(a.a.mark((function n(r){var o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(g(!0)),n.next=3,s.d.getUsers(t,e);case 3:o=n.sent,r((c=o.items,{type:p,users:c})),r((a=o.totalCount,{type:j,totalCount:a})),r(g(!1)),r(v(e));case 8:case"end":return n.stop()}var a,c}),n)})));return function(t){return n.apply(this,arguments)}}()},y=function(){var t=Object(o.a)(a.a.mark((function t(e,n,r,o){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(_(!0,o)),t.next=3,n(o);case 3:0===t.sent&&(e(r(o)),e(_(!1,o)));case 5:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}(),w=function(t){return function(e){y(e,s.d.setUnfollow.bind(s.d),m,t)}},S=function(t){return function(e){y(e,s.d.setFollow.bind(s.d),x,t)}};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case l:return Object(i.a)(Object(i.a)({},t),{},{usersData:u(t.usersData,e.id,"id",{followed:!0})});case d:return Object(i.a)(Object(i.a)({},t),{},{usersData:u(t.usersData,e.id,"id",{followed:!1})});case p:return Object(i.a)(Object(i.a)({},t),{},{usersData:Object(c.a)(e.users)});case j:return Object(i.a)(Object(i.a)({},t),{},{totalCount:e.totalCount});case f:return Object(i.a)(Object(i.a)({},t),{},{pageNumber:e.pageNumber});case b:return Object(i.a)(Object(i.a)({},t),{},{isFetching:e.isFetching});case h:return Object(i.a)(Object(i.a)({},t),{},{followingInProgress:e.inProgress?[].concat(Object(c.a)(t.followingInProgress),[e.userId]):t.followingInProgress.filter((function(t){return t!==e.userId}))});default:return t}}},137:function(t,e,n){t.exports={profile:"Profile_profile__2mnZB"}},138:function(t,e,n){t.exports={myPosts:"MyPosts_myPosts__6tNHf"}},139:function(t,e,n){t.exports={post:"Post_post__1WtZp"}},23:function(t,e,n){t.exports={headerContainer:"Header_headerContainer__21Wcm",header:"Header_header__2G971",logo:"Header_logo__1YKIN",logoName:"Header_logoName__2e-jJ",authBlock:"Header_authBlock__9zypy",loginName:"Header_loginName__3IrRX",logoutBlock:"Header_logoutBlock__zkDJO",userPhoto:"Header_userPhoto__3_tCs"}},249:function(t,e,n){},250:function(t,e,n){},292:function(t,e,n){"use strict";n.r(e);var r=n(0),a=function(t){t&&t instanceof Function&&n.e(5).then(n.bind(null,296)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,o=e.getLCP,c=e.getTTFB;n(t),r(t),a(t),o(t),c(t)}))},o=n(11),c=n(133),i=n(100),s=n(10),u=n.n(s),l=n(16),d=n(28),p=n(3),j=n(13),f=n(27),b="profile/ADD_POST",h="profile/SET_PROFILE_DATA",O="profile/SET_STATUS",x="profile/SAVE_PHOTO_SUCCESS",m="profile/SET_PROFILE_EDIT_MODE",v={postsData:[{id:1,message:"Hello1",likeCount:"20"},{id:2,message:"Hello2",likeCount:"25"},{id:3,message:"Hello3",likeCount:"30"}],profileData:{photos:{}},status:"",profileEditMode:!1},g=function(t){return{type:O,status:t}},_=function(t){return{type:m,editMode:t}},P=function(t){return function(){var e=Object(l.a)(u.a.mark((function e(n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.d.getProfile(t);case 2:r=e.sent,n((a=r.data,{type:h,profileData:a}));case 4:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}()},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case b:return Object(p.a)(Object(p.a)({},t),{},{postsData:[].concat(Object(d.a)(t.postsData),[{id:"6",message:e.text,likeCount:"0"}])});case h:return Object(p.a)(Object(p.a)({},t),{},{profileData:e.profileData});case O:return Object(p.a)(Object(p.a)({},t),{},{status:e.status});case x:return Object(p.a)(Object(p.a)({},t),{},{profileData:Object(p.a)(Object(p.a)({},t.profileData),{},{photos:e.photos})});case m:return Object(p.a)(Object(p.a)({},t),{},{profileEditMode:e.editMode});default:return t}},w=n(132),S="auth/SET_AUTH_DATA",N="auth/SET_IS_AUTH",k="auth/SET_CAPTCHA_URL",D="auth/SET_PHOTO_AUTH_USER",E={data:{userId:null,email:null,login:null},isAuth:!1,captchaUrl:null,photo:""},C=function(t){return{type:S,data:t}},A=function(t){return{type:N,isAuth:t}},I=function(t){return function(){var e=Object(l.a)(u.a.mark((function e(n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.b.getProfile(t);case 2:r=e.sent,n((a=r.data.photos.small,{type:D,url:a}));case 4:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}()},T=function(){return function(){var t=Object(l.a)(u.a.mark((function t(e){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.setAuth();case 2:0===(n=t.sent).resultCode&&(e(C(n.data)),e(A(!0)),e(I(n.data.id)));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},F=function(){return function(){var t=Object(l.a)(u.a.mark((function t(e){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.c.getCaptchaUrl();case 2:n=t.sent,e((r=n.data.url,{type:k,url:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},U=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case S:return Object(p.a)(Object(p.a)({},t),{},{data:e.data});case N:return Object(p.a)(Object(p.a)({},t),{},{isAuth:e.isAuth});case k:return Object(p.a)(Object(p.a)({},t),{},{captchaUrl:e.url});case D:return Object(p.a)(Object(p.a)({},t),{},{photo:e.url});default:return t}},L="app/INITIALAZE_SUCCSES",M={initialaze:!1},H=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case L:return Object(p.a)(Object(p.a)({},t),{},{initialaze:!0});default:return t}},B=n(131),J=Object(o.c)({profilePage:y,dialogsPage:i.b,findPage:w.a,auth:U,form:B.a,app:H}),z=Object(o.e)(J,Object(o.a)(c.a));window.store=z;var R=z,W=n(1),G=n.n(W),K=n(69),Z=n.n(K),q=(n(249),n(40)),V=n(41),Y=n(43),X=n(42),Q=(n(250),n(14)),$=n(26),tt=n(23),et=n.n(tt),nt=n.p+"static/media/Logo.cd763535.svg",rt=n(70),at=n.p+"static/media/Logout.e1a90091.svg",ot=n.p+"static/media/Login.81b30788.svg",ct=function(t){var e=t.isAuth,n=t.data,a=t.logout,o=t.userPhoto;return Object(r.jsx)("div",{className:et.a.headerContainer,children:Object(r.jsxs)("header",{className:et.a.header,children:[Object(r.jsx)("img",{className:et.a.logo,src:nt,alt:""}),Object(r.jsx)("div",{className:et.a.logoName,children:Object(r.jsx)("span",{children:Object(r.jsx)("b",{children:"SOCIAL-NETWORK"})})}),e?Object(r.jsxs)("div",{className:et.a.authBlock,children:[Object(r.jsx)("div",{children:Object(r.jsx)("span",{className:et.a.loginName,children:n.login})}),Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:o||rt.a,className:et.a.userPhoto})}),Object(r.jsx)("div",{className:et.a.logoutBlock,children:Object(r.jsx)("img",{src:at,onClick:a})})]}):Object(r.jsxs)("div",{className:et.a.authBlock,children:[Object(r.jsx)("div",{}),Object(r.jsx)($.b,{to:"/login",className:et.a.loginName,children:Object(r.jsx)("span",{children:" \u0412\u043e\u0439\u0442\u0438 "})}),Object(r.jsx)("img",{src:ot,alt:""})]})]})})},it=function(t){Object(Y.a)(n,t);var e=Object(X.a)(n);function n(){return Object(q.a)(this,n),e.apply(this,arguments)}return Object(V.a)(n,[{key:"render",value:function(){return Object(r.jsx)(ct,Object(p.a)({},this.props))}}]),n}(G.a.Component),st=Object(Q.b)((function(t){return{data:t.auth.data,isAuth:t.auth.isAuth,userPhoto:t.auth.photo}}),{setAuth:T,logout:function(){return function(){var t=Object(l.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.logout();case 2:0===t.sent.data.resultCode&&(e(C({userId:null,email:null,login:null})),e(A(!1)));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(it),ut=n(59),lt=n.n(ut),dt=function(t){var e=t.path,n=t.text;return Object(r.jsx)($.b,{to:e,activeClassName:lt.a.active,children:Object(r.jsx)("div",{className:lt.a.item,children:Object(r.jsx)("span",{children:n})})})},pt=function(){return Object(r.jsxs)("nav",{className:lt.a.nav,children:[Object(r.jsx)(dt,{path:"/profile",text:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(r.jsx)(dt,{path:"/dialogs",text:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"}),Object(r.jsx)(dt,{path:"/find",text:"\u041f\u043e\u0438\u0441\u043a \u043b\u044e\u0434\u0435\u0439"}),Object(r.jsx)(dt,{path:"/news",text:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"}),Object(r.jsx)(dt,{path:"/music",text:"\u041c\u0443\u0437\u044b\u043a\u0430"}),Object(r.jsx)(dt,{path:"/settings",text:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]})},jt=n(137),ft=n.n(jt),bt=n(130),ht=n(138),Ot=n.n(ht),xt=n(139),mt=n.n(xt),vt=function(t){var e=t.message,n=t.likeCount;return Object(r.jsxs)("div",{className:mt.a.post,children:[Object(r.jsx)("img",{src:"https://i.pinimg.com/736x/0c/a9/e2/0ca9e28dcb12dc698cfd2beda6d6fa64--youtube.jpg",alt:""}),e,Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{children:"Like"})," - ",n]})]})},gt=n(33),_t=n(7),Pt=Object(gt.a)(15),yt=Object(bt.a)({form:"post"})((function(t){var e=t.handleSubmit;return Object(r.jsxs)("form",{onSubmit:e,children:[Object(_t.b)("postText",_t.a,"text","post",[gt.b,Pt],null),Object(r.jsx)("button",{children:"Add"})]})})),wt=function(t){var e=t.posts.map((function(t){return Object(r.jsx)(vt,{message:t.message,likeCount:t.likeCount},t.id)}));return Object(r.jsxs)("div",{className:Ot.a.myPosts,children:[Object(r.jsx)("h3",{children:"My Posts"}),Object(r.jsx)("div",{children:Object(r.jsx)(yt,{onSubmit:function(e){t.addPost(e.postText)}})}),e]})},St=Object(Q.b)((function(t){return{posts:t.profilePage.postsData,newPostText:t.profilePage.newPostText}}),{addPost:function(t){return{type:b,text:t}}})(wt),Nt=n(55),kt=function(t){var e=Object(W.useState)(!1),n=Object(Nt.a)(e,2),a=n[0],o=n[1],c=Object(W.useState)(t.status),i=Object(Nt.a)(c,2),s=i[0],u=i[1];return Object(W.useEffect)((function(){u(t.status)}),[t.status]),Object(r.jsxs)("div",{children:[!a&&Object(r.jsx)("span",{onDoubleClick:function(){o(!0)},children:t.status||"-----"}),a&&Object(r.jsx)("input",{type:"text",autoFocus:!0,onBlur:function(){o(!1),t.updateStatus(s)},onChange:function(t){u(t.currentTarget.value)},value:s})]})},Dt=n(34),Et=n.n(Dt),Ct=function(t){var e=t.profileData;return Object(r.jsx)("div",{children:Object.keys(e.contacts).map((function(t){return Object(r.jsxs)("div",{children:[Object(r.jsxs)("b",{children:[t,":"]})," ",e.contacts[t]]},t)}))})},At=Object(bt.a)({form:"profileData"})((function(t){var e=t.handleSubmit,n=t.error;return Object(r.jsxs)("form",{onSubmit:e,children:[Object(r.jsx)("button",{children:"Save"}),Object(r.jsx)("br",{}),"fullName: ",Object(_t.b)("fullName",_t.a,"text","",[],null),"aboutMe: ",Object(_t.b)("aboutMe",_t.a,"text","",[],null),"lookingForAJob: ",Object(_t.b)("lookingForAJob",_t.a,"checkbox","",[],null),"lookingForAJobDescription: ",Object(_t.b)("lookingForAJobDescription",_t.a,"text","",[],null),"github: ",Object(_t.b)("contacts.github",_t.a,"text","",[],null),"vk: ",Object(_t.b)("contacts.vk",_t.a,"text","",[],null),"facebook: ",Object(_t.b)("contacts.facebook",_t.a,"text","",[],null),"instagram: ",Object(_t.b)("contacts.instagram",_t.a,"text","",[],null),"twitter: ",Object(_t.b)("contacts.twitter",_t.a,"text","",[],null),"website: ",Object(_t.b)("contacts.website",_t.a,"text","",[],null),"youtube: ",Object(_t.b)("contacts.youtube",_t.a,"text","",[],null),"mainLink: ",Object(_t.b)("contacts.mainLink",_t.a,"text","",[],null),n&&Object(r.jsx)("span",{className:Et.a.errorForm,children:n})]})})),It=function(t){var e=t.profileData,n=t.status,a=t.updateStatus,o=t.savePhoto,c=t.isOwner,i=t.isEditMode,s=t.setProfileEditMode,u=t.saveProfileData,l=Object(W.useState)(!1),d=Object(Nt.a)(l,2),p=d[0],j=d[1];return Object(r.jsxs)("div",{className:Et.a.profileInfo,children:[Object(r.jsxs)("div",{className:Et.a.profilePhoto,children:[Object(r.jsx)("img",{className:Et.a.userPhoto,src:e.photos.small||rt.a,alt:""}),c&&Object(r.jsxs)("div",{children:[Object(r.jsx)("input",{type:"file",id:"img",className:Et.a.inputFile,onChange:function(t){o(t.target.files[0])}}),Object(r.jsx)("label",{for:"img",children:Object(r.jsx)("div",{className:Et.a.editPhotoButton,children:"sdvsdv"})})]})]}),Object(r.jsxs)("div",{children:[e.fullName,Object(r.jsx)(kt,{status:n,updateStatus:a}),Object(r.jsxs)("div",{children:[Object(r.jsx)("b",{children:"LookingForAJob:"}),e.lookingForAJob?"yes":"no"]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("b",{children:"LookingForAJobDescription:"}),e.lookingForAJobDescription]}),Object(r.jsx)("div",{children:p?Object(r.jsx)("button",{onClick:function(){return s(!1),void j(!1)},children:"\u0421\u043a\u0440\u044b\u0442\u044c \u043f\u043e\u043b\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e"}):Object(r.jsx)("button",{onClick:function(){return j(!0)},children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u043e\u043b\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e"})})]}),p&&!i&&Object(r.jsx)(Ct,{profileData:e}),p&&i&&Object(r.jsx)(At,{initialValues:e,onSubmit:function(t){u(t)}}),c&&Object(r.jsx)("button",{onClick:function(){return s(!0)},children:"Edit"})]})},Tt=n(45),Ft=function(t){return void 0===t.profileData.fullName?Object(r.jsx)(Tt.a,{}):Object(r.jsxs)("div",{className:ft.a.profile,children:[Object(r.jsx)(It,{profileData:t.profileData,status:t.status,updateStatus:t.updateStatus,savePhoto:t.savePhoto,isOwner:t.isOwner,isEditMode:t.isEditMode,setProfileEditMode:t.setProfileEditMode,saveProfileData:t.saveProfileData}),Object(r.jsx)(St,{})]})},Ut=n(12),Lt=function(t){Object(Y.a)(n,t);var e=Object(X.a)(n);function n(){var t;Object(q.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))).render=function(){return Object(r.jsx)(Ft,{profileData:t.props.profileData,isAuth:t.props.isAuth,status:t.props.status,updateStatus:t.props.updateStatus,savePhoto:t.props.savePhoto,isOwner:!t.props.match.params.userId,isEditMode:t.props.isEditMode,setProfileEditMode:t.props.setProfileEditMode,saveProfileData:t.props.saveProfileData})},t}return Object(V.a)(n,[{key:"refreshProgile",value:function(){var t=this.props,e=t.match,n=t.userId,r=t.history,a=e.params.userId;a||(a=n)?(this.props.getUserProfile(a),this.props.getStatus(a)):r.push("/login")}},{key:"componentDidMount",value:function(){this.refreshProgile()}},{key:"componentDidUpdate",value:function(t,e,n){this.props.match.params.userId!==t.match.params.userId&&this.refreshProgile();var r=this.props,a=r.isAuth,o=r.history;a||o.push("/login")}}]),n}(G.a.Component),Mt=Object(o.d)(Object(Q.b)((function(t){return{profileData:t.profilePage.profileData,status:t.profilePage.status,isAuth:t.auth.isAuth,userId:t.auth.data.id,isEditMode:t.profilePage.profileEditMode}}),{getUserProfile:P,getStatus:function(t){return function(){var e=Object(l.a)(u.a.mark((function e(n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.b.getStatus(t);case 2:r=e.sent,n(g(r.data));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},updateStatus:function(t){return function(){var e=Object(l.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.b.updateStatus(t);case 2:0===e.sent.data.resultCode&&n(g(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},savePhoto:function(t){return function(){var e=Object(l.a)(u.a.mark((function e(n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.b.setPhoto(t);case 2:0===(r=e.sent).data.resultCode&&n((a=r.data.data.photos,{type:x,photos:a}));case 4:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}()},setProfileEditMode:_,saveProfileData:function(t){return function(){var e=Object(l.a)(u.a.mark((function e(n,r){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.b.saveProfileData(t);case 2:0===(a=e.sent).data.resultCode?(n(_(!1)),n(P(r().profilePage.profileData.userId))):n(Object(f.a)("profileData",{_error:a.data.messages[0]}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}}),Ut.g)(Lt),Ht=n(49),Bt=n.n(Ht),Jt=function(){return Object(r.jsx)("div",{children:Object(r.jsx)("p",{className:Bt.a.text,children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439"})})},zt=function(){return Object(r.jsx)("div",{children:Object(r.jsx)("p",{className:Bt.a.text,children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043c\u0443\u0437\u044b\u043a\u0438"})})},Rt=function(){return Object(r.jsx)("div",{children:Object(r.jsx)("p",{className:Bt.a.text,children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a"})})},Wt=n(38),Gt=n.n(Wt),Kt=n(75),Zt=n.n(Kt),qt=Object(gt.a)(30),Vt=Object(bt.a)({form:"login"})((function(t){var e=t.handleSubmit,n=t.error,a=t.captchaUrl;return Object(r.jsxs)("form",{onSubmit:e,children:[Object(_t.b)("email",_t.a,"text","email",[gt.b,qt],null),Object(_t.b)("password",_t.a,"text","password",[gt.b,qt],null),Object(_t.b)("rememberMe",_t.a,"checkbox",null,[],"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f"),a&&Object(r.jsx)("img",{src:a,className:Zt.a.captchaPhoto}),a&&Object(_t.b)("captcha",_t.a,"text","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0431\u0443\u043a\u0432\u044b",[gt.b],null),n&&Object(r.jsx)("div",{className:Gt.a.errorFromServer,children:n}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:Zt.a.submitButton,children:"\u0412\u043e\u0439\u0442\u0438"})})]})})),Yt=Object(Q.b)((function(t){return{isAuth:t.auth.isAuth,captchaUrl:t.auth.captchaUrl}}),{login:function(t,e,n,r){return function(){var a=Object(l.a)(u.a.mark((function a(o){var c;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,j.a.login(t,e,n,r);case 2:0===(c=a.sent).data.resultCode?o(T()):(10===c.data.resultCode&&o(F()),o(Object(f.a)("login",{_error:c.data.messages})));case 4:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()}})((function(t){return t.isAuth?Object(r.jsx)(Ut.a,{to:"/profile"}):Object(r.jsxs)("div",{className:Zt.a.mainContainer,children:[Object(r.jsx)("h1",{children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),Object(r.jsx)(Vt,{onSubmit:function(e){t.login(e.email,e.password,e.rememberMe,e.captcha)},captchaUrl:t.captchaUrl})]})})),Xt=function(t){return function(e){return Object(r.jsx)("div",{children:Object(r.jsx)(W.Suspense,{fallback:Object(r.jsx)(Tt.a,{}),children:Object(r.jsx)(t,Object(p.a)({},e))})})}},Qt=G.a.lazy((function(){return n.e(4).then(n.bind(null,297))})),$t=G.a.lazy((function(){return n.e(3).then(n.bind(null,298))})),te=function(t){Object(Y.a)(n,t);var e=Object(X.a)(n);function n(){return Object(q.a)(this,n),e.apply(this,arguments)}return Object(V.a)(n,[{key:"rejectionPromiseError",value:function(t){alert("reject promise")}},{key:"componentDidMount",value:function(){this.props.setInitialaze(),window.addEventListener("unhandledrejection",this.rejectionPromiseError)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.rejectionPromiseError)}},{key:"render",value:function(){return this.props.initialaze?Object(r.jsxs)("div",{children:[Object(r.jsx)(st,{}),Object(r.jsxs)("div",{className:"app-wrapper",children:[Object(r.jsx)(pt,{}),Object(r.jsx)("div",{className:"app-wrapper-content",children:Object(r.jsxs)(Ut.d,{children:[Object(r.jsx)(Ut.b,{exact:!0,path:"/",render:function(){return Object(r.jsx)(Ut.a,{to:"/profile"})}}),Object(r.jsx)(Ut.b,{path:"/profile/:userId?",render:function(){return Object(r.jsx)(Mt,{})}}),Object(r.jsx)(Ut.b,{path:"/dialogs",render:Xt(Qt)}),Object(r.jsx)(Ut.b,{path:"/find",render:Xt($t)}),Object(r.jsx)(Ut.b,{path:"/login",render:function(){return Object(r.jsx)(Yt,{})}}),Object(r.jsx)(Ut.b,{path:"/news",component:Jt}),Object(r.jsx)(Ut.b,{path:"/music",component:zt}),Object(r.jsx)(Ut.b,{path:"/settings",component:Rt}),Object(r.jsx)(Ut.b,{path:"*",render:function(){return Object(r.jsx)("div",{children:Object(r.jsx)("p",{className:"pageNotFoundText",children:"\u0421\u0422\u0420\u0410\u041d\u0418\u0426\u0410 \u041d\u0415 \u041d\u0410\u0419\u0414\u0415\u041d\u0410"})})}})]})})]})]}):Object(r.jsx)(Tt.a,{})}}]),n}(G.a.Component),ee=Object(Q.b)((function(t){return{initialaze:t.app.initialaze}}),{setInitialaze:function(){return function(t){t(T()).then((function(){t({type:L})}))}}})(te);Z.a.render(Object(r.jsx)($.a,{children:Object(r.jsx)(Q.a,{store:R,children:Object(r.jsx)(ee,{})})}),document.getElementById("root")),a()},33:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return a}));var r=function(t){if(!t)return"Write"},a=function(t){return function(e){if(!(e&&e.length<=t))return"\u041c\u043d\u043e\u0433\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}}},34:function(t,e,n){t.exports={profileInfo:"ProfileInfo_profileInfo__1k3Ew",profilePhoto:"ProfileInfo_profilePhoto__cIyJ7",info:"ProfileInfo_info__27fXj",userPhoto:"ProfileInfo_userPhoto__3nSpq",errorForm:"ProfileInfo_errorForm__btcGx",inputFile:"ProfileInfo_inputFile__3tR-u",editPhotoButton:"ProfileInfo_editPhotoButton__1c7Ab"}},38:function(t,e,n){t.exports={inputContainer:"InputForm_inputContainer__3gTJZ",inputNoError:"InputForm_inputNoError__189Ag",inputError:"InputForm_inputError__3O0qr",errorText:"InputForm_errorText__3J6r9",errorFromServer:"InputForm_errorFromServer__27AhV"}},45:function(t,e,n){"use strict";var r=n(0),a=(n(1),n.p+"static/media/Preloader.2310675a.svg");e.a=function(){return Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:a,alt:""})})}},49:function(t,e,n){t.exports={text:"CommonCSS_text__1zd1x"}},59:function(t,e,n){t.exports={nav:"Nav_nav__3IqUU",item:"Nav_item__1Bk3c",active:"Nav_active__1Hs6H"}},7:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return d}));var r=n(28),a=n(3),o=n(99),c=n(0),i=(n(1),n(38)),s=n.n(i),u=n(93),l=function(t){var e=t.input,n=t.placeholder,r=t.type,i=t.meta,u=i.touched,l=i.error,d=t.text,p=(Object(o.a)(t,["input","placeholder","type","meta","text"]),u&&l);return Object(c.jsxs)("div",{className:s.a.inputContainer,children:[Object(c.jsx)("input",Object(a.a)(Object(a.a)({},e),{},{placeholder:n,type:r,className:"checkbox"===r?"":"".concat(s.a.inputNoError," ").concat(p?s.a.inputError:"")}))," ",d,p&&Object(c.jsx)("span",{className:s.a.errorText,children:l})]})},d=function(t,e,n,a,o,i){return Object(c.jsx)("div",{children:Object(c.jsx)(u.a,{name:t,component:e,type:n,placeholder:a,validate:Object(r.a)(o),text:i})})}},70:function(t,e,n){"use strict";e.a=n.p+"static/media/user.e582e4ba.png"},75:function(t,e,n){t.exports={mainContainer:"Login_mainContainer__yHyDK",submitButton:"Login_submitButton__2Yytc",captchaPhoto:"Login_captchaPhoto__3U1lo"}}},[[292,1,2]]]);
//# sourceMappingURL=main.3da898af.chunk.js.map